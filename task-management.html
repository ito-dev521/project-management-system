<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>タスク管理 - 業務管理システム</title>
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/task-management.css">
</head>
<body>
    <div class="container">
        <!-- ヘッダー -->
        <header class="header">
            <h1>タスク管理</h1>
            <div class="header-buttons">
                <button class="btn btn-secondary" id="backToTopBtn">トップに戻る</button>
                <button class="btn btn-primary" id="addTaskBtn">タスク追加</button>
            </div>
        </header>

        <!-- メインコンテンツ -->
        <main class="main-content">
            <!-- 未割り当てタスクエリア -->
            <div class="unassigned-section">
                <h2>未割り当てのタスク</h2>
                <div id="unassignedTasks" class="task-pool">
                    <!-- サンプルタスク -->
                    <div class="task-card" data-task-id="1" draggable="true">
                        <div class="task-title">R325</div>
                        <div class="task-content">線形検討</div>
                        <div class="task-info">
                            <span class="task-deadline">期限: 2025/10/20</span>
                        </div>
                    </div>

                    <div class="task-card" data-task-id="2" draggable="true">
                        <div class="task-title">運動公園</div>
                        <div class="task-content">数量修正</div>
                        <div class="task-info">
                            <span class="task-deadline">期限: 2025/10/15</span>
                        </div>
                    </div>

                    <div class="task-card" data-task-id="3" draggable="true">
                        <div class="task-title">舗装維持</div>
                        <div class="task-content">業務計画書作成</div>
                        <div class="task-info">
                            <span class="task-deadline">期限: 2025/10/18</span>
                        </div>
                    </div>

                    <div class="task-card task-urgent" data-task-id="4" draggable="true">
                        <div class="task-title">大津植木</div>
                        <div class="task-content">設計書作成</div>
                        <div class="task-info">
                            <span class="task-deadline">期限: 2025/10/12</span>
                            <span class="task-badge urgent">緊急</span>
                        </div>
                    </div>

                    <div class="task-card" data-task-id="5" draggable="true">
                        <div class="task-title">短期対策</div>
                        <div class="task-content">報告書作成</div>
                        <div class="task-info">
                            <span class="task-deadline">期限: 2025/10/25</span>
                        </div>
                    </div>

                    <div class="task-card" data-task-id="6" draggable="true">
                        <div class="task-title">短期対策</div>
                        <div class="task-content">概要版作成</div>
                        <div class="task-info">
                            <span class="task-deadline">期限: 2025/10/22</span>
                        </div>
                    </div>

                    <div class="task-card" data-task-id="7" draggable="true">
                        <div class="task-title">民間開発</div>
                        <div class="task-content">交差点協議資料</div>
                        <div class="task-info">
                            <span class="task-deadline">期限: 2025/10/30</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- 課員割り振りエリア -->
            <div class="assignment-section">
                <h2>課員別タスク割り振り</h2>
                <div class="members-grid">
                    <!-- 各課員のボックス -->
                    <div class="member-box" data-member-id="福島">
                        <div class="member-header">
                            <h3>福島</h3>
                            <span class="task-count">0</span>
                        </div>
                        <div class="member-tasks" data-member="福島">
                        </div>
                    </div>

                    <div class="member-box" data-member-id="大村">
                        <div class="member-header">
                            <h3>大村</h3>
                            <span class="task-count">0</span>
                        </div>
                        <div class="member-tasks" data-member="大村">
                        </div>
                    </div>

                    <div class="member-box" data-member-id="北里">
                        <div class="member-header">
                            <h3>北里</h3>
                            <span class="task-count">0</span>
                        </div>
                        <div class="member-tasks" data-member="北里">
                        </div>
                    </div>

                    <div class="member-box" data-member-id="牛嶋">
                        <div class="member-header">
                            <h3>牛嶋</h3>
                            <span class="task-count">0</span>
                        </div>
                        <div class="member-tasks" data-member="牛嶋">
                        </div>
                    </div>

                    <div class="member-box" data-member-id="松本">
                        <div class="member-header">
                            <h3>松本</h3>
                            <span class="task-count">0</span>
                        </div>
                        <div class="member-tasks" data-member="松本">
                        </div>
                    </div>

                    <div class="member-box" data-member-id="安田">
                        <div class="member-header">
                            <h3>安田</h3>
                            <span class="task-count">0</span>
                        </div>
                        <div class="member-tasks" data-member="安田">
                        </div>
                    </div>

                    <div class="member-box" data-member-id="河原">
                        <div class="member-header">
                            <h3>河原</h3>
                            <span class="task-count">0</span>
                        </div>
                        <div class="member-tasks" data-member="河原">
                        </div>
                    </div>

                    <div class="member-box" data-member-id="時里">
                        <div class="member-header">
                            <h3>時里</h3>
                            <span class="task-count">0</span>
                        </div>
                        <div class="member-tasks" data-member="時里">
                        </div>
                    </div>

                    <div class="member-box" data-member-id="パート社員">
                        <div class="member-header">
                            <h3>パート社員</h3>
                            <span class="task-count">0</span>
                        </div>
                        <div class="member-tasks" data-member="パート社員">
                        </div>
                    </div>
                </div>
            </div>
        </main>

        <!-- タスク追加モーダル -->
        <div id="addTaskModal" class="modal">
            <div class="modal-content">
                <div class="modal-header">
                    <h2>タスク追加</h2>
                    <span class="close">&times;</span>
                </div>
                <form id="addTaskForm">
                    <div class="form-group">
                        <label for="taskProject">業務名(タイトル)</label>
                        <input type="text" id="taskProject" name="taskProject" placeholder="例: R325" required>
                    </div>
                    <div class="form-group">
                        <label for="taskContent">作業内容</label>
                        <input type="text" id="taskContent" name="taskContent" placeholder="例: 線形検討" required>
                    </div>
                    <div class="form-group">
                        <label for="taskDeadline">期限</label>
                        <input type="date" id="taskDeadline" name="taskDeadline" required>
                    </div>
                    <div class="form-group">
                        <label for="estimatedDays">想定日数</label>
                        <input type="number" id="estimatedDays" name="estimatedDays" min="1" placeholder="例: 5" required>
                    </div>
                    <div class="form-group">
                        <label for="taskDescription">具体的な作業内容</label>
                        <textarea id="taskDescription" name="taskDescription" rows="4" placeholder="詳細な作業内容を入力"></textarea>
                    </div>
                    <div class="form-actions">
                        <button type="submit" class="btn btn-primary">追加</button>
                        <button type="button" class="btn btn-secondary" id="cancelTaskBtn">キャンセル</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <script src="js/app.js"></script>
    <script src="js/task-management.js"></script>
</body>
</html>
